# BDO Rise | FS - Interview Questions & Answers

## Table of Contents
1. [What is Angular? Why we use it?](#1-what-is-angular-why-we-use-it)
2. [How many ways can we communicate within Angular components?](#2-how-many-ways-can-we-communicate-within-angular-components)
3. [What is SQL Injection? How to get it resolved?](#3-what-is-sql-injection-how-to-get-it-resolved)
4. [What is SQL Transactions?](#4-what-is-sql-transactions)
5. [Write a Query for max salary from employee table](#5-write-a-query-for-max-salary-from-employee-table-department-and-salary-tables-id-is-foreign-key)
6. [What is Unit of Work? Why we need that / How to use it?](#6-what-is-unit-of-work-why-we-need-that--how-to-use-it)
7. [Difference between EF Core vs ADO.NET?](#7-difference-between-ef-core-vs-adonet)
8. [What is Dependency Injection?](#8-what-is-dependency-injection)
9. [What is Dapper?](#9-what-is-dapper)
10. [Explain DI lifetimes (Transient, Scoped and Singleton)](#10-explain-di-lifetimes-transient-scoped-and-singleton)
11. [Write a C# Code for string transformation](#11-write-a-c-code-if-the-name-in-string-is-rakesh-and-print-like-this-ar-ek-hs)
12. [Difference between RESTful APIs and SOAP Services](#12-difference-between-restful-apis-and-soap-services)
13. [What are REST and RESTful?](#13-what-are-rest-and-restful)
14. [What is Middleware?](#14-what-is-middleware)
15. [Difference between Authentication and Authorization](#15-what-is-the-difference-between-authentication-and-authorization)
16. [What are DDL commands (SQL)?](#16-what-are-ddl-commands-sql)
17. [What are HTTP Verbs?](#17-what-are-http-verbs)
18. [Output Response format for RESTful APIs](#18-what-is-output-response-format-for-restful-apis)
19. [Migration commands in EF Core](#19-what-are-migration-commands-in-ef-core)
20. [Why we need UOW, Repository patterns?](#20-why-we-need-to-use-uow-repository-patterns)
21. [What's the latest Angular version?](#21-whats-the-latest-angular-version)
22. [What is pipe, how to use it and benefits?](#22-what-is-pipe-how-to-use-it-and-its-benefits-why-we-need-pipe)

***

## 1. What is Angular? Why we use it?

**Angular** is a TypeScript-based open-source web application framework developed by Google. It's a platform for building mobile and desktop web applications.

**Why we use Angular:**
- **Component-based architecture** - Promotes reusability and maintainability
- **Two-way data binding** - Synchronizes data between model and view
- **Dependency injection** - Makes testing easier and code more modular
- **TypeScript support** - Provides static typing and better tooling
- **Rich ecosystem** - Extensive libraries and tools
- **Cross-platform development** - Build web, mobile, and desktop apps

```typescript
// Example Angular Component
import { Component } from '@angular/core';

@Component({
  selector: 'app-hello',
  template: `Hello {{name}}!`,
  styleUrls: ['./hello.component.css']
})
export class HelloComponent {
  name = 'Angular';
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 2. How many ways can we communicate within Angular components?

There are several ways to communicate between Angular components:

### **Parent to Child Communication**
```typescript
// Parent Component
@Component({
  template: ``
})
export class ParentComponent {
  parentData = 'Hello from parent';
}

// Child Component
@Component({
  selector: 'child-component',
  template: `{{data}}`
})
export class ChildComponent {
  @Input() data: string;
}
```

### **Child to Parent Communication**
```typescript
// Child Component
@Component({
  selector: 'child-component',
  template: `Send Data`
})
export class ChildComponent {
  @Output() dataEvent = new EventEmitter();
  
  sendData() {
    this.dataEvent.emit('Data from child');
  }
}

// Parent Component
@Component({
  template: ``
})
export class ParentComponent {
  receiveData(data: string) {
    console.log(data);
  }
}
```

### **Service-based Communication**
```typescript
@Injectable({
  providedIn: 'root'
})
export class DataService {
  private dataSubject = new BehaviorSubject('');
  data$ = this.dataSubject.asObservable();
  
  updateData(data: string) {
    this.dataSubject.next(data);
  }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 3. What is SQL Injection? How to get it resolved?

**SQL Injection** is a security vulnerability where malicious SQL code is inserted into application queries, allowing attackers to manipulate database operations.

### **Example of Vulnerable Code:**
```csharp
// Vulnerable - DON'T DO THIS
string query = "SELECT * FROM Users WHERE Username = '" + username + "' AND Password = '" + password + "'";
```

### **How to Resolve:**

**1. Parameterized Queries:**
```csharp
// Safe approach using parameters
string query = "SELECT * FROM Users WHERE Username = @username AND Password = @password";
using (SqlCommand cmd = new SqlCommand(query, connection))
{
    cmd.Parameters.AddWithValue("@username", username);
    cmd.Parameters.AddWithValue("@password", password);
    // Execute query
}
```

**2. Entity Framework (Automatically prevents SQL injection):**
```csharp
var user = context.Users
    .Where(u => u.Username == username && u.Password == password)
    .FirstOrDefault();
```

**3. Stored Procedures:**
```sql
CREATE PROCEDURE GetUser
    @Username NVARCHAR(50),
    @Password NVARCHAR(50)
AS
BEGIN
    SELECT * FROM Users WHERE Username = @Username AND Password = @Password
END
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 4. What is SQL Transactions?

**SQL Transactions** are sequences of database operations that are treated as a single unit of work. They follow ACID properties (Atomicity, Consistency, Isolation, Durability).

```sql
-- SQL Transaction Example
BEGIN TRANSACTION;

UPDATE Accounts SET Balance = Balance - 1000 WHERE AccountID = 1;
UPDATE Accounts SET Balance = Balance + 1000 WHERE AccountID = 2;

-- If all operations succeed
COMMIT;

-- If any operation fails
-- ROLLBACK;
```

```csharp
// C# Transaction Example
using (var transaction = context.Database.BeginTransaction())
{
    try
    {
        // Multiple database operations
        context.Accounts.First(a => a.Id == 1).Balance -= 1000;
        context.Accounts.First(a => a.Id == 2).Balance += 1000;
        
        context.SaveChanges();
        transaction.Commit();
    }
    catch
    {
        transaction.Rollback();
        throw;
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 5. Write a Query for max salary from employee table, department and salary tables (id is foreign key)

```sql
-- Assuming table structure:
-- Employee: EmployeeId, Name, DepartmentId
-- Department: DepartmentId, DepartmentName
-- Salary: EmployeeId, Amount

-- Query to get employee with maximum salary
SELECT TOP 1 
    e.Name as EmployeeName,
    d.DepartmentName,
    s.Amount as MaxSalary
FROM Employee e
INNER JOIN Department d ON e.DepartmentId = d.DepartmentId
INNER JOIN Salary s ON e.EmployeeId = s.EmployeeId
ORDER BY s.Amount DESC;

-- Alternative using MAX function
SELECT 
    e.Name as EmployeeName,
    d.DepartmentName,
    s.Amount as MaxSalary
FROM Employee e
INNER JOIN Department d ON e.DepartmentId = d.DepartmentId
INNER JOIN Salary s ON e.EmployeeId = s.EmployeeId
WHERE s.Amount = (SELECT MAX(Amount) FROM Salary);
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 6. What is Unit of Work? Why we need that / How to use it?

**Unit of Work** is a design pattern that maintains a list of objects affected by a business transaction and coordinates writing out changes and resolving concurrency problems.

**Why we need it:**
- Maintains consistency across multiple repository operations
- Provides a single transaction boundary
- Reduces database round trips
- Easier to manage complex business operations

```csharp
// Unit of Work Interface
public interface IUnitOfWork : IDisposable
{
    IEmployeeRepository Employees { get; }
    IDepartmentRepository Departments { get; }
    Task SaveChangesAsync();
    void BeginTransaction();
    void Commit();
    void Rollback();
}

// Implementation
public class UnitOfWork : IUnitOfWork
{
    private readonly DbContext _context;
    private IDbContextTransaction _transaction;

    public UnitOfWork(DbContext context)
    {
        _context = context;
        Employees = new EmployeeRepository(_context);
        Departments = new DepartmentRepository(_context);
    }

    public IEmployeeRepository Employees { get; }
    public IDepartmentRepository Departments { get; }

    public async Task SaveChangesAsync()
    {
        return await _context.SaveChangesAsync();
    }

    public void BeginTransaction()
    {
        _transaction = _context.Database.BeginTransaction();
    }

    public void Commit()
    {
        _transaction?.Commit();
    }

    public void Rollback()
    {
        _transaction?.Rollback();
    }

    public void Dispose()
    {
        _transaction?.Dispose();
        _context?.Dispose();
    }
}

// Usage
public class EmployeeService
{
    private readonly IUnitOfWork _unitOfWork;

    public EmployeeService(IUnitOfWork unitOfWork)
    {
        _unitOfWork = unitOfWork;
    }

    public async Task TransferEmployee(int employeeId, int newDepartmentId)
    {
        _unitOfWork.BeginTransaction();
        try
        {
            var employee = await _unitOfWork.Employees.GetByIdAsync(employeeId);
            employee.DepartmentId = newDepartmentId;

            _unitOfWork.Employees.Update(employee);
            await _unitOfWork.SaveChangesAsync();
            
            _unitOfWork.Commit();
        }
        catch
        {
            _unitOfWork.Rollback();
            throw;
        }
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 7. Difference between EF Core vs ADO.NET?

| Feature | EF Core | ADO.NET |
|---------|---------|---------|
| **Type** | ORM (Object-Relational Mapping) | Data Access Technology |
| **Coding Style** | Object-oriented, LINQ queries | SQL strings, manual mapping |
| **Performance** | Slightly slower due to abstraction | Faster, direct database access |
| **Development Speed** | Faster development | More coding required |
| **Learning Curve** | Easier for .NET developers | Requires SQL knowledge |
| **Database Independence** | High (provider-based) | Low (database-specific) |

```csharp
// EF Core Example
var employees = context.Employees
    .Where(e => e.DepartmentId == 1)
    .ToList();

// ADO.NET Example
string query = "SELECT * FROM Employees WHERE DepartmentId = @deptId";
using (SqlCommand cmd = new SqlCommand(query, connection))
{
    cmd.Parameters.AddWithValue("@deptId", 1);
    using (SqlDataReader reader = cmd.ExecuteReader())
    {
        var employees = new List();
        while (reader.Read())
        {
            employees.Add(new Employee
            {
                Id = (int)reader["Id"],
                Name = reader["Name"].ToString(),
                DepartmentId = (int)reader["DepartmentId"]
            });
        }
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 8. What is Dependency Injection?

**Dependency Injection (DI)** is a design pattern that implements Inversion of Control (IoC) for resolving dependencies. It provides dependencies to a class rather than having the class create them itself.

```csharp
// Without DI - Tight coupling
public class OrderService
{
    private EmailService _emailService;
    
    public OrderService()
    {
        _emailService = new EmailService(); // Hard dependency
    }
}

// With DI - Loose coupling
public class OrderService
{
    private readonly IEmailService _emailService;
    
    public OrderService(IEmailService emailService)
    {
        _emailService = emailService; // Injected dependency
    }
}

// DI Container Registration
services.AddScoped();
services.AddScoped();
```

**Benefits:**
- Loose coupling
- Better testability
- Easier maintenance
- Follows SOLID principles

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 9. What is Dapper?

**Dapper** is a lightweight Object-Relational Mapping (ORM) library for .NET. It's often called a "micro-ORM" because it focuses on performance while providing basic ORM functionality.

```csharp
// Dapper Example
using Dapper;

// Query single object
var employee = connection.QueryFirstOrDefault(
    "SELECT * FROM Employees WHERE Id = @id", 
    new { id = 1 });

// Query multiple objects
var employees = connection.Query(
    "SELECT * FROM Employees WHERE DepartmentId = @deptId",
    new { deptId = 1 });

// Execute command
var affectedRows = connection.Execute(
    "UPDATE Employees SET Name = @name WHERE Id = @id",
    new { name = "John Doe", id = 1 });

// Complex query with multiple types
var result = connection.Query(
    @"SELECT e.*, d.* FROM Employees e 
      INNER JOIN Departments d ON e.DepartmentId = d.Id 
      WHERE e.Id = @id",
    (employee, department) => {
        employee.Department = department;
        return employee;
    },
    new { id = 1 },
    splitOn: "Id");
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 10. Explain DI lifetimes (Transient, Scoped and Singleton)

### **Transient**
- New instance created every time it's requested
- Best for lightweight, stateless services

```csharp
services.AddTransient();
```

### **Scoped**
- One instance per request/scope
- Default for web applications

```csharp
services.AddScoped();
```

### **Singleton**
- Single instance for the entire application lifetime
- Best for expensive-to-create objects

```csharp
services.AddSingleton();
```

```csharp
// Example demonstrating lifetimes
public class LifetimeController : ControllerBase
{
    public LifetimeController(
        ITransientService transient1,
        ITransientService transient2,  // Different instances
        IScopedService scoped1,
        IScopedService scoped2,        // Same instance within request
        ISingletonService singleton1,
        ISingletonService singleton2)  // Same instance across all requests
    {
        // transient1 != transient2
        // scoped1 == scoped2 (within same request)
        // singleton1 == singleton2 (always)
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 11. Write a C# Code if the name in string is "Rakesh" and print like this (ar ek hs)

```csharp
using System;
class Program
{
    static void Main()
    {
        Console.Write("Enter a string: ");
        string input = Console.ReadLine();

        string result = ReversePairs(input);
        Console.WriteLine(result);
    }

    static string ReversePairs(string str)
    {
        if (string.IsNullOrEmpty(str))
            return string.Empty;

        string output = "";

        for (int i = 0; i < str.Length; i += 2)
        {
            if (i + 1 < str.Length)
                output += str[i + 1].ToString() + str[i] + " "; // reverse the pair
            else
                output += str[i]; // last leftover character if odd length
        }

        return output.Trim();
    }
}
```

- By Using Linq

```csharp
public static class StringHelper
{
    public static string FormatName(string name)
    {
        if (string.IsNullOrEmpty(name) || name.Length ();
        
        // Split into pairs, handling odd length
        for (int i = 0; i  new { c, i })
            .GroupBy(x => x.i / 2)
            .Select(g => g.Count() == 2 ? 
                string.Concat(g.Reverse().Select(x => x.c)) : 
                g.First().c.ToString()));
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 12. Difference between RESTful APIs and SOAP Services

| Feature | RESTful APIs | SOAP Services |
|---------|--------------|---------------|
| **Protocol** | HTTP/HTTPS | HTTP, SMTP, TCP, etc. |
| **Message Format** | JSON, XML, HTML, Plain Text | XML only |
| **Architecture** | Architectural style | Protocol |
| **State** | Stateless | Can be stateful or stateless |
| **Performance** | Faster, lightweight | Slower, heavyweight |
| **Caching** | Supports HTTP caching | No built-in caching |
| **Security** | HTTPS, OAuth | WS-Security, SSL |
| **Error Handling** | HTTP status codes | SOAP faults |

```csharp
// RESTful API Example
[ApiController]
[Route("api/[controller]")]
public class EmployeesController : ControllerBase
{
    [HttpGet("{id}")]
    public IActionResult GetEmployee(int id)
    {
        var employee = _service.GetEmployee(id);
        return Ok(employee); // Returns JSON by default
    }

    [HttpPost]
    public IActionResult CreateEmployee([FromBody] Employee employee)
    {
        var created = _service.CreateEmployee(employee);
        return CreatedAtAction(nameof(GetEmployee), new { id = created.Id }, created);
    }
}

// SOAP Service Example (WCF)
[ServiceContract]
public interface IEmployeeService
{
    [OperationContract]
    Employee GetEmployee(int id);
    
    [OperationContract]
    void CreateEmployee(Employee employee);
}

[DataContract]
public class Employee
{
    [DataMember]
    public int Id { get; set; }
    
    [DataMember]
    public string Name { get; set; }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 13. What are REST and RESTful?

**REST (Representational State Transfer)** is an architectural style for designing networked applications, particularly web services.

**RESTful** refers to web services that conform to REST architectural principles.

### **REST Principles:**
1. **Stateless** - Each request contains all information needed
2. **Client-Server** - Separation of concerns
3. **Cacheable** - Responses should be cacheable
4. **Uniform Interface** - Consistent way to interact with resources
5. **Layered System** - Architecture can have multiple layers
6. **Code on Demand** (optional) - Server can send executable code

```csharp
// RESTful API Example
[ApiController]
[Route("api/[controller]")]
public class ProductsController : ControllerBase
{
    // GET /api/products - Get all products
    [HttpGet]
    public IActionResult GetProducts()
    {
        return Ok(_productService.GetAll());
    }

    // GET /api/products/5 - Get specific product
    [HttpGet("{id}")]
    public IActionResult GetProduct(int id)
    {
        var product = _productService.GetById(id);
        return product != null ? Ok(product) : NotFound();
    }

    // POST /api/products - Create new product
    [HttpPost]
    public IActionResult CreateProduct([FromBody] Product product)
    {
        var created = _productService.Create(product);
        return CreatedAtAction(nameof(GetProduct), new { id = created.Id }, created);
    }

    // PUT /api/products/5 - Update product
    [HttpPut("{id}")]
    public IActionResult UpdateProduct(int id, [FromBody] Product product)
    {
        _productService.Update(id, product);
        return NoContent();
    }

    // DELETE /api/products/5 - Delete product
    [HttpDelete("{id}")]
    public IActionResult DeleteProduct(int id)
    {
        _productService.Delete(id);
        return NoContent();
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 14. What is Middleware?

**Middleware** is software that sits between different applications or services, facilitating communication and data management. In ASP.NET Core, middleware components handle HTTP requests and responses in a pipeline.

```csharp
// Custom Middleware Example
public class RequestLoggingMiddleware
{
    private readonly RequestDelegate _next;
    private readonly ILogger _logger;

    public RequestLoggingMiddleware(RequestDelegate next, ILogger logger)
    {
        _next = next;
        _logger = logger;
    }

    public async Task InvokeAsync(HttpContext context)
    {
        _logger.LogInformation($"Request: {context.Request.Method} {context.Request.Path}");
        
        await _next(context); // Call next middleware
        
        _logger.LogInformation($"Response: {context.Response.StatusCode}");
    }
}

// Middleware Registration in Program.cs
var builder = WebApplication.CreateBuilder(args);
var app = builder.Build();

// Built-in middleware
app.UseRouting();
app.UseAuthentication();
app.UseAuthorization();

// Custom middleware
app.UseMiddleware();

app.MapControllers();
app.Run();

// Extension method for cleaner registration
public static class MiddlewareExtensions
{
    public static IApplicationBuilder UseRequestLogging(this IApplicationBuilder builder)
    {
        return builder.UseMiddleware();
    }
}

// Usage: app.UseRequestLogging();
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 15. What is the difference between Authentication and Authorization?

| Authentication | Authorization |
|----------------|---------------|
| **Who are you?** | **What can you do?** |
| Verifies identity | Verifies permissions |
| Login process | Access control |
| Username/password, tokens | Roles, policies, claims |
| Happens first | Happens after authentication |

```csharp
// Authentication Example
[HttpPost("login")]
public IActionResult Login([FromBody] LoginModel model)
{
    var user = _userService.ValidateUser(model.Username, model.Password);
    if (user != null)
    {
        var token = _tokenService.GenerateToken(user);
        return Ok(new { Token = token });
    }
    return Unauthorized();
}

// Authorization Examples
[Authorize] // Requires authentication
public class ProductsController : ControllerBase
{
    [Authorize(Roles = "Admin")] // Requires Admin role
    public IActionResult DeleteProduct(int id)
    {
        // Only admins can delete
    }

    [Authorize(Policy = "MinimumAge")] // Custom policy
    public IActionResult GetAdultProducts()
    {
        // Only users meeting age requirement
    }
}

// Custom Authorization Policy
services.AddAuthorization(options =>
{
    options.AddPolicy("MinimumAge", policy =>
        policy.RequireClaim("Age", "18", "19", "20")); // Must be 18+
});
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 16. What are DDL commands (SQL)?

**DDL (Data Definition Language)** commands are used to define and modify database structure.

### **Main DDL Commands:**

```sql
-- CREATE - Create database objects
CREATE DATABASE CompanyDB;

CREATE TABLE Employees (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(100) NOT NULL,
    Email NVARCHAR(100) UNIQUE,
    DepartmentId INT,
    CreatedDate DATETIME DEFAULT GETDATE()
);

CREATE INDEX IX_Employee_Email ON Employees(Email);

-- ALTER - Modify existing objects
ALTER TABLE Employees 
ADD PhoneNumber NVARCHAR(15);

ALTER TABLE Employees 
ALTER COLUMN Name NVARCHAR(150);

ALTER TABLE Employees 
DROP COLUMN PhoneNumber;

-- DROP - Delete objects
DROP TABLE Employees;
DROP DATABASE CompanyDB;
DROP INDEX IX_Employee_Email ON Employees;

-- TRUNCATE - Remove all data from table (structure remains)
TRUNCATE TABLE Employees;

-- Additional DDL Commands
CREATE VIEW EmployeeView AS
SELECT Name, Email FROM Employees;

CREATE PROCEDURE GetEmployeeById
    @Id INT
AS
BEGIN
    SELECT * FROM Employees WHERE Id = @Id;
END;

CREATE FUNCTION GetEmployeeCount()
RETURNS INT
AS
BEGIN
    RETURN (SELECT COUNT(*) FROM Employees);
END;
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 17. What are HTTP Verbs?

**HTTP Verbs (Methods)** define the action to be performed on a resource.

| Verb | Purpose | Safe | Idempotent | Example |
|------|---------|------|------------|---------|
| **GET** | Retrieve data | âœ… | âœ… | Get user info |
| **POST** | Create new resource | âŒ | âŒ | Create user |
| **PUT** | Update/Replace resource | âŒ | âœ… | Update user |
| **PATCH** | Partial update | âŒ | âŒ | Update user email |
| **DELETE** | Remove resource | âŒ | âœ… | Delete user |
| **HEAD** | Get headers only | âœ… | âœ… | Check if resource exists |
| **OPTIONS** | Get allowed methods | âœ… | âœ… | CORS preflight |

```csharp
[ApiController]
[Route("api/[controller]")]
public class UsersController : ControllerBase
{
    // GET /api/users
    [HttpGet]
    public IActionResult GetUsers()
    {
        return Ok(_userService.GetAll());
    }

    // GET /api/users/5
    [HttpGet("{id}")]
    public IActionResult GetUser(int id)
    {
        var user = _userService.GetById(id);
        return user != null ? Ok(user) : NotFound();
    }

    // POST /api/users
    [HttpPost]
    public IActionResult CreateUser([FromBody] User user)
    {
        var created = _userService.Create(user);
        return CreatedAtAction(nameof(GetUser), new { id = created.Id }, created);
    }

    // PUT /api/users/5 (Replace entire resource)
    [HttpPut("{id}")]
    public IActionResult UpdateUser(int id, [FromBody] User user)
    {
        _userService.Update(id, user);
        return NoContent();
    }

    // PATCH /api/users/5 (Partial update)
    [HttpPatch("{id}")]
    public IActionResult PatchUser(int id, [FromBody] JsonPatchDocument patch)
    {
        var user = _userService.GetById(id);
        if (user == null) return NotFound();
        
        patch.ApplyTo(user);
        _userService.Update(id, user);
        return NoContent();
    }

    // DELETE /api/users/5
    [HttpDelete("{id}")]
    public IActionResult DeleteUser(int id)
    {
        _userService.Delete(id);
        return NoContent();
    }

    // HEAD /api/users/5
    [HttpHead("{id}")]
    public IActionResult CheckUser(int id)
    {
        var exists = _userService.Exists(id);
        return exists ? Ok() : NotFound();
    }

    // OPTIONS /api/users
    [HttpOptions]
    public IActionResult GetOptions()
    {
        Response.Headers.Add("Allow", "GET,POST,PUT,PATCH,DELETE,HEAD,OPTIONS");
        return Ok();
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 18. What is Output Response format for RESTful APIs?

RESTful APIs typically return responses in **JSON format** with appropriate HTTP status codes.

### **Standard Response Formats:**

```csharp
// Success Response (200 OK)
{
    "success": true,
    "data": {
        "id": 1,
        "name": "John Doe",
        "email": "john@example.com"
    },
    "message": "User retrieved successfully"
}

// Error Response (400 Bad Request)
{
    "success": false,
    "error": {
        "code": "VALIDATION_ERROR",
        "message": "Invalid input data",
        "details": [
            {
                "field": "email",
                "message": "Email is required"
            }
        ]
    }
}

// List Response (200 OK)
{
    "success": true,
    "data": [
        { "id": 1, "name": "John" },
        { "id": 2, "name": "Jane" }
    ],
    "pagination": {
        "page": 1,
        "pageSize": 10,
        "totalCount": 50,
        "totalPages": 5
    }
}
```

```csharp
// C# Response Models
public class ApiResponse
{
    public bool Success { get; set; }
    public T Data { get; set; }
    public string Message { get; set; }
    public object Error { get; set; }
}

public class PaginatedResponse : ApiResponse>
{
    public PaginationInfo Pagination { get; set; }
}

public class PaginationInfo
{
    public int Page { get; set; }
    public int PageSize { get; set; }
    public int TotalCount { get; set; }
    public int TotalPages { get; set; }
}

// Controller Example
[HttpGet]
public IActionResult GetUsers(int page = 1, int pageSize = 10)
{
    var users = _userService.GetPaginated(page, pageSize);
    
    return Ok(new PaginatedResponse
    {
        Success = true,
        Data = users.Items,
        Message = "Users retrieved successfully",
        Pagination = new PaginationInfo
        {
            Page = page,
            PageSize = pageSize,
            TotalCount = users.TotalCount,
            TotalPages = (int)Math.Ceiling((double)users.TotalCount / pageSize)
        }
    });
}
```

### **HTTP Status Codes:**
- **200 OK** - Success
- **201 Created** - Resource created
- **204 No Content** - Success with no response body
- **400 Bad Request** - Invalid request
- **401 Unauthorized** - Authentication required
- **403 Forbidden** - Access denied
- **404 Not Found** - Resource not found
- **500 Internal Server Error** - Server error

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 19. What are migration commands in EF Core?

**EF Core Migrations** help manage database schema changes over time.

### **Common Migration Commands:**

```bash
# Create a new migration
dotnet ef migrations add InitialCreate
dotnet ef migrations add AddUserTable
dotnet ef migrations add UpdateUserEmail

# Apply migrations to database
dotnet ef database update

# Apply specific migration
dotnet ef database update 20231201_AddUserTable

# Remove last migration (if not applied)
dotnet ef migrations remove

# List all migrations
dotnet ef migrations list

# Generate SQL script from migrations
dotnet ef migrations script
dotnet ef migrations script InitialCreate AddUserTable

# Drop database
dotnet ef database drop
```

```csharp
// Migration Example (Generated)
public partial class AddUserTable : Migration
{
    protected override void Up(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.CreateTable(
            name: "Users",
            columns: table => new
            {
                Id = table.Column(type: "int", nullable: false)
                    .Annotation("SqlServer:Identity", "1, 1"),
                Name = table.Column(type: "nvarchar(100)", maxLength: 100, nullable: false),
                Email = table.Column(type: "nvarchar(256)", maxLength: 256, nullable: false),
                CreatedDate = table.Column(type: "datetime2", nullable: false)
            },
            constraints: table =>
            {
                table.PrimaryKey("PK_Users", x => x.Id);
            });

        migrationBuilder.CreateIndex(
            name: "IX_Users_Email",
            table: "Users",
            column: "Email",
            unique: true);
    }

    protected override void Down(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.DropTable(name: "Users");
    }
}

// DbContext Configuration
public class AppDbContext : DbContext
{
    public DbSet Users { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity(entity =>
        {
            entity.HasKey(e => e.Id);
            entity.Property(e => e.Name).HasMaxLength(100).IsRequired();
            entity.Property(e => e.Email).HasMaxLength(256).IsRequired();
            entity.HasIndex(e => e.Email).IsUnique();
        });
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 20. Why we need to use UOW, Repository patterns?

### **Repository Pattern Benefits:**
- **Separation of concerns** - Isolates data access logic
- **Testability** - Easy to mock for unit testing
- **Maintainability** - Centralized data access code
- **Flexibility** - Easy to switch data sources

### **Unit of Work Pattern Benefits:**
- **Transaction management** - Maintains consistency
- **Performance** - Reduces database round trips
- **Atomic operations** - All or nothing approach

```csharp
// Repository Interface
public interface IRepository where T : class
{
    Task GetByIdAsync(int id);
    Task> GetAllAsync();
    Task AddAsync(T entity);
    Task UpdateAsync(T entity);
    Task DeleteAsync(int id);
}

// Generic Repository Implementation
public class Repository : IRepository where T : class
{
    protected readonly DbContext _context;
    protected readonly DbSet _dbSet;

    public Repository(DbContext context)
    {
        _context = context;
        _dbSet = context.Set();
    }

    public async Task GetByIdAsync(int id)
    {
        return await _dbSet.FindAsync(id);
    }

    public async Task> GetAllAsync()
    {
        return await _dbSet.ToListAsync();
    }

    public async Task AddAsync(T entity)
    {
        await _dbSet.AddAsync(entity);
        return entity;
    }

    public async Task UpdateAsync(T entity)
    {
        _dbSet.Update(entity);
    }

    public async Task DeleteAsync(int id)
    {
        var entity = await GetByIdAsync(id);
        if (entity != null)
        {
            _dbSet.Remove(entity);
        }
    }
}

// Specific Repository
public interface IUserRepository : IRepository
{
    Task GetByEmailAsync(string email);
    Task> GetActiveUsersAsync();
}

public class UserRepository : Repository, IUserRepository
{
    public UserRepository(DbContext context) : base(context) { }

    public async Task GetByEmailAsync(string email)
    {
        return await _dbSet.FirstOrDefaultAsync(u => u.Email == email);
    }

    public async Task> GetActiveUsersAsync()
    {
        return await _dbSet.Where(u => u.IsActive).ToListAsync();
    }
}

// Service Using Repository and UOW
public class UserService
{
    private readonly IUnitOfWork _unitOfWork;

    public UserService(IUnitOfWork unitOfWork)
    {
        _unitOfWork = unitOfWork;
    }

    public async Task CreateUserWithDepartmentAsync(User user, Department department)
    {
        _unitOfWork.BeginTransaction();
        try
        {
            // Create department first
            await _unitOfWork.Departments.AddAsync(department);
            await _unitOfWork.SaveChangesAsync();

            // Assign department to user
            user.DepartmentId = department.Id;
            await _unitOfWork.Users.AddAsync(user);
            await _unitOfWork.SaveChangesAsync();

            _unitOfWork.Commit();
            return user;
        }
        catch
        {
            _unitOfWork.Rollback();
            throw;
        }
    }
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 21. What's the latest Angular version?

As of 2024, **Angular 17** is the latest major version. Angular follows a predictable release schedule:

- **Major versions** every 6 months
- **1-3 minor releases** for each major version
- **Patch releases** almost every week

### **Angular 17 Key Features:**
- **New Application Builder** - Improved build performance
- **Standalone Components** - Default for new projects
- **New Control Flow Syntax** - `@if`, `@for`, `@switch`
- **Server-Side Rendering (SSR)** improvements
- **Material Design Components** updates

```typescript
// Angular 17 New Control Flow Syntax
@Component({
  template: `
    
    @if (user) {
      Welcome, {{user.name}}!
    } @else {
      Please log in
    }

    
    @for (item of items; track item.id; let i = $index) {
      {{i}}: {{item.name}}
    } @empty {
      No items found
    }

    
    @switch (status) {
      @case ('loading') {
        Loading...
      }
      @case ('success') {
        Success!
      }
      @default {
        Unknown status
      }
    }
  `
})
export class MyComponent {
  user = { name: 'John' };
  items = [{ id: 1, name: 'Item 1' }];
  status = 'loading';
}
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

## 22. What is pipe, how to use it, and its benefits? Why we need pipe?

**Angular Pipes** are a way to transform data in templates. They take data as input and return transformed data as output.

### **Why we need pipes:**
- **Data transformation** in templates
- **Reusable** formatting logic
- **Performance** - Pure pipes are cached
- **Clean templates** - Keeps logic out of component

### **Built-in Pipes:**

```typescript
@Component({
  template: `
    
    {{ today | date:'fullDate' }}
    

    
    {{ price | currency:'USD':'symbol':'1.2-2' }}
    

    
    {{ name | uppercase }}
    {{ name | lowercase }}

    
    {{ user | json }}

    
    {{ userData$ | async | json }}

    
    {{ 0.85 | percent }}
    

    
    {{ 'Hello World' | slice:0:5 }}
    
  `
})
export class MyComponent {
  today = new Date();
  price = 123.456;
  name = 'John Doe';
  user = { id: 1, name: 'John' };
  userData$ = this.service.getUserData();
}
```

### **Custom Pipes:**

```typescript
// Custom pipe to reverse string
@Pipe({
  name: 'reverse',
  pure: true // Pure pipe - cached for same input
})
export class ReversePipe implements PipeTransform {
  transform(value: string): string {
    if (!value) return value;
    return value.split('').reverse().join('');
  }
}

// Usage in template
@Component({
  template: `
    {{ 'Hello' | reverse }}
    
  `
})
export class MyComponent { }

// Custom pipe with parameters
@Pipe({
  name: 'truncate'
})
export class TruncatePipe implements PipeTransform {
  transform(value: string, limit: number = 50, trail: string = '...'): string {
    if (!value || value.length {{ longText | truncate:20:'...' }}
  `
})
export class MyComponent {
  longText = 'This is a very long text that needs to be truncated';
}

// Async Pipe Example
@Component({
  template: `
    
      
        {{ user.name }}
      
    
  `
})
export class UsersComponent {
  users$ = this.http.get('/api/users');
  
  constructor(private http: HttpClient) {}
}
```

### **Pipe Benefits:**
- **Declarative** - Transform data in templates
- **Reusable** - Use across multiple components
- **Pure pipes** - Cached for performance
- **Chainable** - Combine multiple pipes
- **Testable** - Easy to unit test

```typescript
// Chaining pipes
@Component({
  template: `
    {{ user.name | uppercase | slice:0:10 }}
    {{ price | currency:'EUR' | uppercase }}
  `
})
export class MyComponent {
  user = { name: 'john doe' };
  price = 99.99;
}

// Register custom pipe
@NgModule({
  declarations: [
    ReversePipe,
    TruncatePipe
  ],
  // ... other module configuration
})
export class AppModule { }
```

[ðŸ”¼ Back to Top](#table-of-contents)

***

This comprehensive guide covers all the questions with detailed explanations, code examples, and practical implementations. Each section provides both theoretical understanding and practical code snippets that you can use in real-world scenarios.
